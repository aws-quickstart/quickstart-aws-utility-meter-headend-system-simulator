:xrefstyle: short

Deploying this Partner Solution with default parameters builds the following {partner-product-short-name} environment in the
AWS Cloud.

[#architecture1]
.Partner Solution architecture for {partner-product-short-name} on AWS
image::../docs/deployment_guide/images/headend-system-simulator-architecture-diagram.png[Architecture]

As shown in <<architecture1>>, this Partner Solution sets up the following:

* An Amazon API Gateway readings resource with GET method that returns paginated smart-meter readings.
* Four AWS Lambda functions to do the following:
** Query Amazon Timestream and return paginated results to utility supplier.
** Insert asynchronous file request messages using a POST method into an Amazon Simple Queue Service (Amazon SQS) queue and update the status in an Amazon DynamoDB table.
** Return the details of file requests to utility supplier using a GET method.
** Query Timestream for number of records requested to pass right-sized parameters to an AWS Glue job.
* An Amazon SQS queue that invokes a worker Lambda function.
* An AWS Glue job that does the following:
** Uses a Java Database Connectivity (JDBC) driver to connect to Timestream.
** Combines query results into a single file and uploads to the meter readings Amazon Simple Storage Service (Amazon S3) bucket.
** In the DynamoDB table, marks the file request status as complete and record the location of the results file in the meter readings S3 bucket.
* A Timestream database and table that contains utility smart-meter readings.
* An S3 bucket that contains the readings files exported by AWS Glue.
* AWS Transfer for SFTP (AWS SFTP) to transfer meter readings files.
* AWS Secrets Manager to store the private certificate used by AWS SFTP.
* (Optional) The https://aws-quickstart.github.io/quickstart-aws-utility-meter-data-generator/[Device Data Generator Partner Solution^] to generate and insert simulated smart-meter readings into Amazon Timestream at regular intervals. (not shown)